<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html class="theme-dark">
  
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>&#29609;&#23478;&#26381;&#21153;&#22120;&#20989;&#25968; </title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="title" content="&#29609;&#23478;&#26381;&#21153;&#22120;&#20989;&#25968; ">
    <meta name="generator" content="docfx 2.58.0.0">
    
    <link rel="shortcut icon" href="../../../favicon.ico">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.2/jquery.modal.min.css" integrity="sha512-T3VL1q6jMUIzGLRB9z86oJg9PgF7A55eC2XkB93zyWSqQw3Ju+6IEJZYBfT7E9wOHM7HCMCOZSpcssxnUn6AeQ==" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/stackoverflow-dark.min.css" integrity="sha512-Xn1b0y/BrCD7usnEh6r9CcKxHXFVleVUjGDnfc95zDDwFUwtOz3lJC/XtJcuLRNyrMQJEEToFfwjC9Ue/aWY/g==" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/stackoverflow-light.min.css" integrity="sha512-RDtnAhiPytLVV3AwzHkGVMVI4szjtSjxxyhDaH3gqdHPIw5qwQld1MVGuMu1EYoof+CaEccrO3zUVb13hQFU/A==" crossorigin="anonymous" disabled="disabled">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/solid.min.css" crossorigin="anonymous">
    <link rel="stylesheet" href="../../../styles/colors.css">
    <link rel="stylesheet" href="../../../styles/discord.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="../../../toc.html">
    
    <meta property="docfx:rel" content="../../../">
    
  </head>

  <body>

        <div class="body-content">

            <nav id="sidebar" role="navigation">

                <div class="sidebar">
                    
                    
                    
                    
                    <div>
                      
                      <a class="brand" href="../../../index.html">
                        <img src="../../../logo.svg" alt="alt:V" class="logomark">
                        <span class="brand-title">alt:V</span>
                      </a>
                      <div id="navbar">
                    
                      </div>
                    
                    </div>
                    


                </div>


            </nav>

            <main class="main-panel">

                <div class="blackout desktop-hide"></div>

                    
                    <div class="subnav navbar navbar-default">
                      <button class="btn-link search-back desktop-hide"></button>
                      <button class="btn-link navbar-toggler" aria-label="Toggle navigation"></button>
                      <div class="container" id="breadcrumb">
                        <ul class="breadcrumb">
                          <li></li>
                        </ul>
                      </div>
                      <div class="flex-space"></div>
                      <div class="toolbar">
                          <div style="position: relative; margin: 0 8px;">
                            <form class="search-bar mobile-hide" role="search" id="search" style="position: relative;">
                              <button class="btn-link clear" id="search-query-clear"></button>
                              <div role="textbox" class="form-control" id="search-query" placeholder="Search" contenteditable="true"></div>
                            </form>
                            <div class="popout" id="search-menu">
                                <button class="btn-link search-help" data-href="../../../articles/search_help.html"></button>
                              <span class="title">
                                Search options:
                              </span>
                            </div>
                            <button class="btn-link search-tip desktop-hide"></button>
                          </div>
                      </div>
                      <button class="btn-link btn-floating search desktop-hide"></button>
                      <div class="theme">
                        <button class="btn-link theme" aria-label="Switch theme"></button>
                        <div class="popout" id="theme-menu">
                          <div class="theme-option light" data-theme="light">
                            <span class="btn-link theme-light">Light</span>
                          </div>
                          <div class="theme-option dark" data-theme="dark">
                            <span class="btn-link theme-dark">Dark</span>
                          </div>
                          <div class="theme-option auto" data-theme="auto">
                            <span class="btn-link theme-auto">Sync with OS</span>
                          </div>
                        </div>
                      </div>
                    </div>

                <div class="content-region" role="main">

                    <div class="content-column Conceptual">

                            
                            <div class="sideaffix hide-when-search" data-noindex="">
                              <h3>Index</h3>
                              <div class="bs-docs-sidebar affix" id="affix"><ul class="level1 nav bs-docs-sidenav"><li><a href="#玩家服务器函数">玩家服务器函数</a><ul class="level2 nav bs-docs-sidenav 玩家服务器函数"><li><a href="#addweaponcomponent">addWeaponComponent</a></li><li><a href="#deletemeta">deleteMeta</a></li><li><a href="#deletestreamsyncedmeta">deleteStreamSyncedMeta</a></li><li><a href="#deletesyncedmeta">deleteSyncedMeta</a></li><li><a href="#destroy销毁">destroy（销毁）</a></li><li><a href="#getmeta获取元数据">getMeta（获取元数据）</a></li><li><a href="#getstreamsyncedmeta">getStreamSyncedMeta</a></li><li><a href="#getsyncedmeta">getSyncedMeta</a></li><li><a href="#giveweapon">giveWeapon</a></li><li><a href="#hasmeta">hasMeta</a></li><li><a href="#hasstreamsyncedmeta">hasStreamSyncedMeta</a></li><li><a href="#hassyncedmeta">hasSyncedMeta</a></li><li><a href="#kick">kick</a></li><li><a href="#removeallweapons">removeAllWeapons</a></li><li><a href="#removeweapon">removeWeapon</a></li><li><a href="#removeweaponcomponent">removeWeaponComponent</a></li><li><a href="#resetnetowner">resetNetOwner</a></li><li><a href="#setdatetime">setDateTime</a></li><li><a href="#setmeta">setMeta</a></li><li><a href="#setnetowner">setNetOwner</a></li><li><a href="#setstreamsyncedmeta">setStreamSyncedMeta</a></li><li><a href="#setsyncedmeta">setSyncedMeta</a></li><li><a href="#setweapontintindex">setWeaponTintIndex</a></li><li><a href="#spawn">spawn</a></li></ul></li></ul></div>
                            </div>

                            
                            <div id="search-results">
                              <div class="search-list">Search Results for <span></span></div>
                              <div class="sr-items">
                                <p><span class="glyphicon glyphicon-refresh index-loading"></span></p>
                              </div>
                              <ul id="pagination" data-first="" data-prev="&#xf053;" data-next="&#xf054;" data-last=""></ul>
                            </div>

                        <article class="content wrap hide-when-search" id="_content" data-uid="">

                                <span class="small pull-right article mobile-hide" style="margin: 0;" data-noindex="">
                                    <ul class="subnav contribution">
                                            <li>
                                                <a href="https://github.com/Ptr147/altv-types/blob/master/docs/articles/player/server-player-funcs.md/#L1">Improve this Doc</a>
                                            </li>
                                    </ul>
                                </span>

<h1 id="玩家服务器函数">玩家服务器函数</h1>

<p>这个页面将作为使用各种玩家函数的一个表示。</p>
<p>这些应该在服务器端中使用。</p>
<h2 id="addweaponcomponent">addWeaponComponent</h2>
<p>用于根据武器的哈希值为其添加武器组件。</p>
<pre><code class="lang-js">// weaponHash, componentHash
player.addWeaponComponent(0xDFE37640, 0x5B3E7DB6)
</code></pre>
<h2 id="deletemeta">deleteMeta</h2>
<p>用于删除跨资源可用的<strong>服务器端</strong>元数据。</p>
<pre><code class="lang-js">// 设置玩家的元数据。
player.setMeta('cash', 500); // key, value

// 检查元数据是否存在
if (player.hasMeta('cash')) { // key
    // 获取玩家身上的元数据
	const currentCash = player.getMeta('cash'); // key

	// 删除元数据
    player.deleteMeta('cash'); // &lt;--- Usage
}
</code></pre>
<h2 id="deletestreamsyncedmeta">deleteStreamSyncedMeta</h2>
<p>用于删除存储在<strong>服务器端</strong>和<strong>客户端</strong>可访问的玩家实体上的数据。</p>
<p>这种类型的同步元仅可由该玩家的流范围内的玩家访问。</p>
<pre><code class="lang-js">// 设置玩家的元数据。
player.setStreamSyncedMeta('ping', player.ip); // key, value

// 检查元数据是否存在
if (player.hasStreamSyncedMeta('ping')) { // key
    // 获取玩家身上的元数据
	const currentCash = player.getStreamSyncedMeta('ping'); // key
    
	// 删除元数据
    player.deleteStreamSyncedMeta('ping'); // &lt;--- Usage
}
</code></pre>
<h2 id="deletesyncedmeta">deleteSyncedMeta</h2>
<p>用于删除存储在<strong>服务器端</strong>和<strong>客户端</strong>可访问的玩家实体上的数据。</p>
<p>这种类型的同步元数据在流范围内和<strong>外部</strong>都可以访问。</p>
<pre><code class="lang-js">// 设置玩家的元数据。
player.setSyncedMeta('ping', player.ip); // key, value

// 检查元数据是否存在
if (player.hasSyncedMeta('ping')) { // key
    // 获取玩家身上的元数据
	const currentCash = player.getSyncedMeta('ping'); // key
    
	// 删除元数据
    player.deleteSyncedMeta('ping'); // &lt;--- Usage
}
</code></pre>
<h2 id="destroy销毁">destroy（销毁）</h2>
<p>你永远不应该使用它。它不会做任何事情，可能会让你的服务器崩溃。</p>
<h2 id="getmeta获取元数据">getMeta（获取元数据）</h2>
<p>用于获取跨资源可用的<strong>服务器端</strong>元数据。</p>
<pre><code class="lang-js">// 设置玩家的元数据。
player.setMeta('cash', 500); // key, value

// 检查元数据是否存在
if (player.hasMeta('cash')) { // key
    // 获取玩家身上的元数据
	const currentCash = player.getMeta('cash'); // &lt;--- Usage

	// 删除元数据
    player.deleteMeta('cash'); // key
}
</code></pre>
<h2 id="getstreamsyncedmeta">getStreamSyncedMeta</h2>
<p>用于获取存储在玩家实体上的数据，可以在<strong>服务器端</strong>和<strong>客户端</strong>访问。</p>
<p>这种类型的同步元仅可由该玩家<strong>流范围内</strong>的玩家访问。</p>
<pre><code class="lang-js">// 设置玩家的元数据。
player.setStreamSyncedMeta('ping', player.ip); // key, value

// 检查元数据是否存在
if (player.hasStreamSyncedMeta('ping')) { // key
    // 获取玩家身上的元数据
	const currentCash = player.getStreamSyncedMeta('ping'); // &lt;--- Usage
    
	// 删除元数据
    player.deleteStreamSyncedMeta('ping'); // key
}
</code></pre>
<h2 id="getsyncedmeta">getSyncedMeta</h2>
<p>用于删除存储在<strong>服务器端</strong>和<strong>客户端</strong>可访问的玩家实体上的数据。</p>
<p>这种类型的同步元数据在流范围<strong>内部</strong>和<strong>外部</strong>都可以访问。</p>
<pre><code class="lang-js">// 设置玩家的元数据。
player.setSyncedMeta('ping', player.ip); // key, value

// 检查元数据是否存在
if (player.hasSyncedMeta('ping')) { // key
    // 获取玩家身上的元数据
	const currentCash = player.getSyncedMeta('ping'); // &lt;--- Usage
    
	// 删除元数据
    player.deleteSyncedMeta('ping'); // key
}
</code></pre>
<h2 id="giveweapon">giveWeapon</h2>
<p>用于根据哈希或适当的名称给玩家一种武器。</p>
<pre><code class="lang-js">// weaponHash, ammoCount, equipThisWeaponNow?
player.giveWeapon(1141786504, 1, true); // Get a golf club.
</code></pre>
<h2 id="hasmeta">hasMeta</h2>
<p>用于检查<strong>服务端</strong> 元数据是否可用。这可以跨资源工作。</p>
<pre><code class="lang-js">// 设置玩家的元数据。
player.setMeta('cash', 500); // key, value

// 检查元数据是否存在
if (player.hasMeta('cash')) { // &lt;---- Usage
    // 获取玩家身上的元数据
	const currentCash = player.getMeta('cash'); // key

	// 删除元数据
    player.deleteMeta('cash'); // key
}
</code></pre>
<h2 id="hasstreamsyncedmeta">hasStreamSyncedMeta</h2>
<p>用于检查存储在玩家实体上的数据是否可用。这可以在<strong>服务器端</strong>和<strong>客户端</strong>访问。</p>
<p>这种类型的同步元仅可由该玩家的流范围内的玩家访问。</p>
<pre><code class="lang-js">// 设置玩家的元数据。
player.setStreamSyncedMeta('ping', player.ip); // key, value

// 检查元数据是否存在
if (player.hasStreamSyncedMeta('ping')) { // &lt;--- Usage
    // 获取玩家身上的元数据
	const currentCash = player.getStreamSyncedMeta('ping'); // key
    
	// 删除元数据
    player.deleteStreamSyncedMeta('ping'); // key
}
</code></pre>
<h2 id="hassyncedmeta">hasSyncedMeta</h2>
<p>用于检查存储在玩家实体上的数据是否可用。这可以在<strong>服务器端</strong>和<strong>客户端</strong>访问。</p>
<p>这种类型的同步元数据在流范围<strong>内部</strong>和外部都可以访问。</p>
<pre><code class="lang-js">// 设置玩家的元数据。
player.setSyncedMeta('ping', player.ip); // key, value

// 检查元数据是否存在
if (player.hasSyncedMeta('ping')) {  // &lt;--- Usage
    // 获取玩家身上的元数据
	const currentCash = player.getSyncedMeta('ping'); // key
    
	// 删除元数据
    player.deleteSyncedMeta('ping'); // key
}
</code></pre>
<h2 id="kick">kick</h2>
<p>用来从服务器踢出玩家。提供给kick函数的<strong>reason</strong>目前不会显示给玩家。</p>
<p>你可能想创建一个解决方案，在5秒后断开与用户的连接。</p>
<pre><code class="lang-js">alt.on('playerConnect', handleConnect);

// 监听玩家连接。
function handleConnect(player) {
	player.kick('Bye'); // 立即踢出他们。
    
	// Kick them eventually.
    alt.setTimeout(() =&gt; {
        console.log(`${player.name} will be kicked in 5 seconds.`);
    }, 5000); // 5 seconds.
}
</code></pre>
<h2 id="removeallweapons">removeAllWeapons</h2>
<p>用于移除玩家身上的所有武器。</p>
<pre><code class="lang-js">player.removeAllWeapons(); // 除此之外就没什么了。
</code></pre>
<h2 id="removeweapon">removeWeapon</h2>
<p>用于根据武器哈希值移除武器。</p>
<pre><code class="lang-js">player.removeWeapon(1141786504); // Remove a golf club.
</code></pre>
<h2 id="removeweaponcomponent">removeWeaponComponent</h2>
<p>用于从玩家的武器中移除武器组件。</p>
<pre><code class="lang-js">// weaponHash, componentHash
player.removeWeaponComponent(0xDFE37640, 0x5B3E7DB6)
</code></pre>
<h2 id="resetnetowner">resetNetOwner</h2>
<p>恢复netOwner的默认功能。一般的开发人员可能不会使用它。</p>
<h2 id="setdatetime">setDateTime</h2>
<p>用于设置玩家在游戏中的当前时间。重要的是要理解，无论玩家当前的时间尺度是什么，时间仍然会继续。</p>
<p>如果您希望它停留在某个时间，建议冻结时间。</p>
<p>这可以在<strong>客户端</strong>使用原生的<code>native.pauseclock(true);</code>来实现。</p>
<pre><code class="lang-js">const currentServerTime = new Date(Date.now());
// day, month, year, hour, minute, second
player.setDateTime(date.getDay(), date.getMonth(), date.getFullYear(), date.getHour(), date.getMinute(), date.getSecond())
</code></pre>
<h2 id="setmeta">setMeta</h2>
<p>Used to set <strong>server-side</strong> meta on the player. This works cross-resource.</p>
<pre><code class="lang-js">// 设置玩家的元数据。
player.setMeta('cash', 500); // &lt;--- Usage (key, value)

// 检查元数据是否存在
if (player.hasMeta('cash')) { // key
    // 获取玩家身上的元数据
	const currentCash = player.getMeta('cash'); // key

	// 删除元数据
    player.deleteMeta('cash'); // key
}
</code></pre>
<h2 id="setnetowner">setNetOwner</h2>
<p>用于更改此实体的网络所有者。一般的开发人员可能不会使用它。</p>
<h2 id="setstreamsyncedmeta">setStreamSyncedMeta</h2>
<p>用于设置存储在玩家实体上的数据。这可以在<strong>服务器端</strong>和<strong>客户端</strong>访问。</p>
<p>这种类型的同步元仅可由该玩家的流范围内的玩家访问。</p>
<pre><code class="lang-js">// 设置玩家的元数据。
player.setStreamSyncedMeta('ping', player.ip); // key, value

// 检查元数据是否存在
if (player.hasStreamSyncedMeta('ping')) { // &lt;--- Usage
    // 获取玩家身上的元数据
	const currentCash = player.getStreamSyncedMeta('ping'); // key
    
	// 删除元数据
    player.deleteStreamSyncedMeta('ping'); // key
}
</code></pre>
<h2 id="setsyncedmeta">setSyncedMeta</h2>
<p>用于设置存储在<strong>服务器端</strong>和<strong>客户端</strong>可访问的玩家实体上的数据。</p>
<p>这种类型的同步元数据在流范围<strong>内部</strong>和<strong>外部</strong>都可以访问。</p>
<pre><code class="lang-js">// 设置玩家的元数据。
player.setSyncedMeta('ping', player.ip); // key, value

// 检查元数据是否存在
if (player.hasSyncedMeta('ping')) {  // &lt;--- Usage
    // 获取玩家身上的元数据
	const currentCash = player.getSyncedMeta('ping'); // key
    
	// 删除元数据
    player.deleteSyncedMeta('ping'); // key
}
</code></pre>
<h2 id="setweapontintindex">setWeaponTintIndex</h2>
<p>用于根据武器的哈希值设置武器的着色索引。</p>
<pre><code class="lang-js">// weaponHash, componentHash
player.setWeaponTintIndex(0xDFE37640, 1)
</code></pre>
<h2 id="spawn">spawn</h2>
<p>用于在玩家死后根据Vector3位置重生。最后一个参数用于延迟刷出。</p>
<pre><code class="lang-js">// x, y, z, delay
player.spawn(0, 0, 0, 0); // 在地图下0,0,0处生成玩家
</code></pre>
</article>
                    </div>

                </div>

            </main>

        </div>

        
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/arrive/2.4.1/arrive.min.js" integrity="sha512-wkU3qYWjenbM+t2cmvw2ADRRh4opbOYBjkhrPGHV7M6dcE/TR0oKpoDkWXfUs3HrulI2JFuTQyqPLRih1V54EQ==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twbs-pagination/1.4.2/jquery.twbsPagination.min.js" integrity="sha512-frFP3ZxLshB4CErXkPVEXnd5ingvYYtYhE5qllGdZmcOlRKNEPbufyupfdSTNmoF5ICaQNO6SenXzOZvoGkiIA==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha512-mhbv5DqBMgrWL+32MmsDOt/OAvqr/cHimk6B8y/bx/xS88MVkYGPiVv2ixKVrkywF2qHplNRUvFsAHUdxZ3Krg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.2/jquery.modal.min.js" integrity="sha512-ztxZscxb55lKL+xmWGZEbBHekIzy+1qYKHGZTWZYH1GUwxy0hiA18lW6ORIMj4DHRgvmP/qGcvqwEyFFV7OYVQ==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.3.0/anchor.min.js" integrity="sha512-G2OGlm41XXw+fcgDcRPjVYEn7qCY6qiKWNqDGT37SnKh0qtRXTuKZ5/UQR0kDN0PZRNWcGExd3lAeqEH0I36bQ==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/js-url/1.8.8/url.min.js" integrity="sha512-r7Z8tYN1iMr6CTQ7pNJa2q+3owm4Tc6dLkVzGV68AFGiI0muMh5eLVQlas5kb9qwPY168HsTBctUwn3k0FVqyw==" crossorigin="anonymous"></script>
<script type="text/javascript" src="../../../styles/docfx.js"></script>
<script type="text/javascript" src="../../../styles/discord.js"></script>
<script type="text/javascript" src="../../../styles/main.js"></script>

    </body>

</html>
