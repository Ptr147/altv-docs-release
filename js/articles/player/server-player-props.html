<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html class="theme-dark">
  
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>&#29609;&#23478;&#23646;&#24615; </title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="title" content="&#29609;&#23478;&#23646;&#24615; ">
    <meta name="generator" content="docfx 2.58.0.0">
    
    <link rel="shortcut icon" href="../../../favicon.ico">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.2/jquery.modal.min.css" integrity="sha512-T3VL1q6jMUIzGLRB9z86oJg9PgF7A55eC2XkB93zyWSqQw3Ju+6IEJZYBfT7E9wOHM7HCMCOZSpcssxnUn6AeQ==" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/stackoverflow-dark.min.css" integrity="sha512-Xn1b0y/BrCD7usnEh6r9CcKxHXFVleVUjGDnfc95zDDwFUwtOz3lJC/XtJcuLRNyrMQJEEToFfwjC9Ue/aWY/g==" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/stackoverflow-light.min.css" integrity="sha512-RDtnAhiPytLVV3AwzHkGVMVI4szjtSjxxyhDaH3gqdHPIw5qwQld1MVGuMu1EYoof+CaEccrO3zUVb13hQFU/A==" crossorigin="anonymous" disabled="disabled">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/solid.min.css" crossorigin="anonymous">
    <link rel="stylesheet" href="../../../styles/colors.css">
    <link rel="stylesheet" href="../../../styles/discord.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="../../../toc.html">
    
    <meta property="docfx:rel" content="../../../">
    
  </head>

  <body>

        <div class="body-content">

            <nav id="sidebar" role="navigation">

                <div class="sidebar">
                    
                    
                    
                    
                    <div>
                      
                      <a class="brand" href="../../../index.html">
                        <img src="../../../logo.svg" alt="alt:V" class="logomark">
                        <span class="brand-title">alt:V</span>
                      </a>
                      <div id="navbar">
                    
                      </div>
                    
                    </div>
                    


                </div>


            </nav>

            <main class="main-panel">

                <div class="blackout desktop-hide"></div>

                    
                    <div class="subnav navbar navbar-default">
                      <button class="btn-link search-back desktop-hide"></button>
                      <button class="btn-link navbar-toggler" aria-label="Toggle navigation"></button>
                      <div class="container" id="breadcrumb">
                        <ul class="breadcrumb">
                          <li></li>
                        </ul>
                      </div>
                      <div class="flex-space"></div>
                      <div class="toolbar">
                          <div style="position: relative; margin: 0 8px;">
                            <form class="search-bar mobile-hide" role="search" id="search" style="position: relative;">
                              <button class="btn-link clear" id="search-query-clear"></button>
                              <div role="textbox" class="form-control" id="search-query" placeholder="Search" contenteditable="true"></div>
                            </form>
                            <div class="popout" id="search-menu">
                                <button class="btn-link search-help" data-href="../../../articles/search_help.html"></button>
                              <span class="title">
                                Search options:
                              </span>
                            </div>
                            <button class="btn-link search-tip desktop-hide"></button>
                          </div>
                      </div>
                      <button class="btn-link btn-floating search desktop-hide"></button>
                      <div class="theme">
                        <button class="btn-link theme" aria-label="Switch theme"></button>
                        <div class="popout" id="theme-menu">
                          <div class="theme-option light" data-theme="light">
                            <span class="btn-link theme-light">Light</span>
                          </div>
                          <div class="theme-option dark" data-theme="dark">
                            <span class="btn-link theme-dark">Dark</span>
                          </div>
                          <div class="theme-option auto" data-theme="auto">
                            <span class="btn-link theme-auto">Sync with OS</span>
                          </div>
                        </div>
                      </div>
                    </div>

                <div class="content-region" role="main">

                    <div class="content-column Conceptual">

                            
                            <div class="sideaffix hide-when-search" data-noindex="">
                              <h3>Index</h3>
                              <div class="bs-docs-sidebar affix" id="affix"><ul class="level1 nav bs-docs-sidenav"><li><a href="#玩家属性">玩家属性</a><ul class="level2 nav bs-docs-sidenav 玩家属性"><li><a href="#playerarmour">player.armour</a></li><li><a href="#playerauthtoken">player.authToken</a></li><li><a href="#playercurrentweapon">player.currentWeapon</a></li><li><a href="#playercurrentweaponcomponents">player.currentWeaponComponents</a></li><li><a href="#playercurrentweapontintindex">player.currentWeaponTintIndex</a></li><li><a href="#playerdimension">player.dimension</a></li><li><a href="#playerentityaimoffset">player.entityAimOffset</a></li><li><a href="#playerentityaimingat">player.entityAimingAt</a></li><li><a href="#playerflashlightactive">player.flashlightActive</a></li><li><a href="#playerhealth">player.health</a></li><li><a href="#playerhwidexhash">player.hwidExHash</a></li><li><a href="#playerhwidhash">player.hwidHash</a></li><li><a href="#playerid">player.id</a></li><li><a href="#playerip">player.ip</a></li><li><a href="#playermaxarmour">player.maxArmour</a></li><li><a href="#playermaxhealth">player.maxHealth</a></li><li><a href="#playermodel">player.model</a></li><li><a href="#playername">player.name</a></li><li><a href="#playernetowner">player.netOwner</a></li><li><a href="#playerping">player.ping</a></li><li><a href="#playerpos">player.pos</a></li><li><a href="#playerrot">player.rot</a></li><li><a href="#playerseat">player.seat</a></li><li><a href="#playersocialid">player.socialID</a></li><li><a href="#playervalid">player.valid</a></li><li><a href="#playervehicle">player.vehicle</a></li></ul></li></ul></div>
                            </div>

                            
                            <div id="search-results">
                              <div class="search-list">Search Results for <span></span></div>
                              <div class="sr-items">
                                <p><span class="glyphicon glyphicon-refresh index-loading"></span></p>
                              </div>
                              <ul id="pagination" data-first="" data-prev="&#xf053;" data-next="&#xf054;" data-last=""></ul>
                            </div>

                        <article class="content wrap hide-when-search" id="_content" data-uid="">

                                <span class="small pull-right article mobile-hide" style="margin: 0;" data-noindex="">
                                    <ul class="subnav contribution">
                                            <li>
                                                <a href="https://github.com/Ptr147/altv-types/blob/master/docs/articles/player/server-player-props.md/#L1">Improve this Doc</a>
                                            </li>
                                    </ul>
                                </span>

<h1 id="玩家属性">玩家属性</h1>

<p>此页面将作为使用各种玩家属性的表示。</p>
<p>这些应该在服务器端使用。</p>
<h2 id="playerarmour">player.armour</h2>
<p>用于<strong>设置或获取</strong>玩家当前的盔甲等级。</p>
<pre><code class="lang-js">const currentArmour = player.armour;
player.armour = 5;
player.armour += 10;
player.armour -= 10;
</code></pre>
<h2 id="playerauthtoken">player.authToken</h2>
<p>用于在早期的认证实现中<strong>获取</strong>一个authToken。大多数用户不会使用它。</p>
<pre><code class="lang-js">alt.on('playerConnect', handleConnect);

function handleConnect(player) {
    if (!player.authToken) {
        player.kick(`No Auth Token Found`);
        return;
    }

    alt.log(`${player.name}'s authToken is ${authToken}`);
}
</code></pre>
<h2 id="playercurrentweapon">player.currentWeapon</h2>
<p>用于<strong>设置或获取</strong>玩家当前武器的哈希值。</p>
<pre><code class="lang-js">player.currentWeapon = alt.hash('weapon_pistol'); // 0x1B06D571

if (player.currentWeapon === 0x1b06d571) {
    console.log(`Player has a pistol equipped.`);
}
</code></pre>
<p>如果你想在服务器端用简单的英语而不是散列来处理所有武器检查。你应该尝试使用原型去设置并提供给玩家武器。</p>
<pre><code class="lang-js">alt.Player.prototype.setWeapon = function(weaponName) {
    this.currentWeapon = alt.hash(weaponName);
    this.currentWeaponName = weaponName;
};
</code></pre>
<h2 id="playercurrentweaponcomponents">player.currentWeaponComponents</h2>
<p>用于<strong>获取</strong>玩家当前装备的武器上的所有武器组件。所有武器组件都被哈希。</p>
<pre><code class="lang-js">const currentWeaponComponents = player.currentWeaponComponents;

for (let i = 0; i &lt; currentWeaponComponents.length; i++) {
    const weaponComponentHash = currentWeaponComponents[i];
}
</code></pre>
<h2 id="playercurrentweapontintindex">player.currentWeaponTintIndex</h2>
<p>用于<strong>获取</strong>当前装备武器的着色指数。</p>
<pre><code class="lang-js">const currentTint = player.currentWeaponTintIndex;
</code></pre>
<h2 id="playerdimension">player.dimension</h2>
<p>用于<strong>获取</strong>或<strong>设置</strong>玩家的当前尺寸。尺寸基于INT32。这意味着一个维度有一个最小值和最大值。从<code>-2147483648</code>到<code>2147483648</code>。</p>
<p>Heron对dimensions的描述如下。</p>
<pre><code>X只能看到X
-X可以看到0和-X
0看不到-X和X
</code></pre>
<p>默认维度是<strong>0</strong>。</p>
<pre><code class="lang-js">const currentDimension = player.dimension;
player.dimension = 1;

// 如果你需要每个玩家加入一个唯一的实例。这是一种不错的处理方式。
// 只要记得在对唯一维度执行任何操作后将其设置为零即可。
player.dimension = player.id;
</code></pre>
<h2 id="playerentityaimoffset">player.entityAimOffset</h2>
<p>用于<strong>获取</strong>玩家当前的瞄准偏移量。目前还没有这个特定功能的用例。</p>
<p>在撰写本文时，我们甚至不确定它是否正常运行。</p>
<h2 id="playerentityaimingat">player.entityAimingAt</h2>
<p>用来<strong>获取</strong>玩家当前的目标实体。目前的看法是，这个特定的属性不起作用。</p>
<p>在撰写本文时，我们甚至不确定它是否正常运行。</p>
<h2 id="playerflashlightactive">player.flashlightActive</h2>
<p>用于<strong>获取</strong>玩家的手电筒活动?</p>
<p>在撰写本文时，我们甚至不确定它是否正常运行。</p>
<h2 id="playerhealth">player.health</h2>
<p>用于<strong>获取或设置</strong>玩家当前的生命值。</p>
<p>《GTA:V》中的每个模型都有自己的健康范围。</p>
<pre><code class="lang-js">const currentHealth = player.health;
player.health += 10;

// Kill the player.
player.health = 0;
</code></pre>
<h2 id="playerhwidexhash">player.hwidExHash</h2>
<p>这是获得属于玩家的唯一硬件哈希的两种方法之一。</p>
<p>这是一个禁止玩家的好方法;尤其是他们需要一套全新的硬件才能通过你的禁令。</p>
<p>目前没有人知道如何确定硬件信息。</p>
<pre><code class="lang-js">const currentHwidEx = player.hwidExHash;
</code></pre>
<h2 id="playerhwidhash">player.hwidHash</h2>
<p>这是获得属于玩家的唯一硬件哈希的两种方法之一。</p>
<p>这是一个禁止玩家的好方法;尤其是他们需要一套全新的硬件才能通过你的禁令。</p>
<p>目前没有人知道如何确定硬件信息。</p>
<pre><code class="lang-js">const currentHwid = player.hwidHash;
</code></pre>
<h2 id="playerid">player.id</h2>
<p>用于<strong>获取</strong>玩家的当前id。这些严格来说对于玩家的加入顺序是唯一的。如果玩家断开连接，它的id将被连接的新玩家或稍后创建的车辆重复使用。</p>
<p>ID的值可以使用到<code>65535</code>。</p>
<pre><code class="lang-js">alt.on('playerConnect', handleConnect);

function handleConnect(player) {
    alt.log(`${player.name} has joined with the ID of ${player.id}`);
}
</code></pre>
<h2 id="playerip">player.ip</h2>
<p>在大多数情况下，这是一个从IPv4转换到IPv6的IP。</p>
<p>本地主机IP的一个示例:<code>::ffff:127.0.0.1</code></p>
<pre><code class="lang-js">alt.on('playerConnect', handleConnect);

function handleConnect(player) {
    if (player.ip === `::ffff:127.0.0.1`) {
        alt.log(`${player.name} has joined from local host.`);
    }
}
</code></pre>
<h2 id="playermaxarmour">player.maxArmour</h2>
<p>用于<strong>设置或获取</strong>玩家当前的最大护甲。最大值可以设置为<code>8191</code>。</p>
<p>设置完成后，可以将玩家的当前盔甲设置为最大盔甲值。</p>
<pre><code class="lang-js">const currentMaxArmour = player.maxArmour;
if (currentMaxArmour &lt;= 100) {
    player.maxArmour = 8191;
    player.armour = 8191;
}

alt.log(`${player.name} is a chunker.`);
</code></pre>
<h2 id="playermaxhealth">player.maxHealth</h2>
<p>用于<strong>设置或获取</strong>玩家当前的最大生命值。最大值可以设置为<code>8191</code>。</p>
<p>在此之后，你可以将玩家的当前生命值设置为最大生命值。</p>
<pre><code class="lang-js">const currentMaxHealth = player.maxHealth;
if (currentMaxHealth &lt;= 100) {
    player.maxHealth = 8191;
    player.health = 8191;
}

alt.log(`${player.name} is a healthy chunker.`);
</code></pre>
<h2 id="playermodel">player.model</h2>
<p>用于设置<strong>设置或获取</strong>玩家的当前模型。</p>
<p>你可以在这里传递一个字符串值。</p>
<p>没有自动设置模型，应该在玩家连接或认证时设置。</p>
<pre><code class="lang-js">alt.on('playerConnect', handleConnect);

function handleConnect(player) {
    player.model = 'mp_m_freemode_01';
}
</code></pre>
<h2 id="playername">player.name</h2>
<p>用于<strong>获取</strong>玩家的当前名字。这是由玩家在他们的选项中设定的。</p>
<pre><code class="lang-js">alt.on('playerConnect', handleConnect);

function handleConnect(player) {
    if (player.name.toLowerCase() === 'stuyk') {
        player.kick(`Stupid name.`);
    }
}
</code></pre>
<h2 id="playernetowner">player.netOwner</h2>
<p>用于<strong>获取</strong>负责将实体同步到服务器的当前网络所有者。继承自entity。</p>
<p>对于一般的开发人员来说，这并不是一个有用的属性。</p>
<pre><code class="lang-js">const currentOwner = player.netOwner;

if (!currentOwner) {
    console.log(`Looks like nobody owns this entity.`);
}
</code></pre>
<h2 id="playerping">player.ping</h2>
<p>用于<strong>获取</strong>玩家当前的ping。</p>
<p>下面是一个片段，使玩家ping可由所有玩家查看。</p>
<pre><code class="lang-js">alt.setInterval(handlePingUpdate, 5000);

function handlePingUpdate() {
    const currentPlayers = [...alt.Player.all];

    for (let i = 0; i &lt; currentPlayers.length; i++) {
        const player = currentPlayers[i];
        if (!player || !player.valid) {
            continue;
        }

        player.setSyncedMeta('ping', player.ping);
    }
}
</code></pre>
<h2 id="playerpos">player.pos</h2>
<p>用于<strong>获取</strong>或<strong>设置</strong>玩家的当前位置。</p>
<p>当获得玩家的当前位置时，你应该使用扩展操作符使其可修改。</p>
<pre><code class="lang-js">const currentPos = { ...player.pos };
currentPos.x += 1;

// Teleport them under the map.
player.pos = {
    x: 0,
    y: 0,
    z: 0
};

// Create a Vector3 with the alt function.
player.pos = new alt.Vector3(0, 0, 0);
</code></pre>
<h2 id="playerrot">player.rot</h2>
<p>Used to <strong>get or set</strong> the player's current rotation.</p>
<pre><code class="lang-js">// Get and log current player rotation.
alt.log(player.rot);

// Set player rotation to zero.
player.rot = new alt.Vector3(0, 0, 0);
</code></pre>
<h2 id="playerseat">player.seat</h2>
<p>用于<strong>获得</strong>玩家当前所在的位置。</p>
<pre><code class="lang-js">if (player.vehicle &amp;&amp; player.seat === 1) {
    alt.log(`Player is in the driver's seat.`); // 驾驶位
}

if (player.vehicle &amp;&amp; player.seat === 2) {
    alt.log(`Player is riding shotgun.`); // 副驾驶
}

if (player.vehicle &amp;&amp; player.seat === 3) {
    alt.log(`Player is behind the driver's seat.`); // 左后方
}

if (player.vehicle &amp;&amp; player.seat === 4) {
    alt.log(`Player is behind the player riding shotgun.`); // 右后方
}
</code></pre>
<h2 id="playersocialid">player.socialID</h2>
<p>用于<strong>获取</strong>玩家当前social club身份的非安全版本，该身份与他们的Rockstar账户相关联。</p>
<p>请记住，这个值<strong>不安全</strong>，不要将其用于身份验证。<strong>它可以被伪造</strong>。</p>
<pre><code class="lang-js">const social = player.socialID;
</code></pre>
<h2 id="playervalid">player.valid</h2>
<p>用于<strong>获取</strong>玩家实体是否仍然有效。在使用超时、间隔和处理断开连接事件时，这很有用。</p>
<p>无效的玩家意味着它与服务器断开了连接。</p>
<pre><code class="lang-js">alt.on('playerDisconnect', handleDisconnect);

function handleDisconnect(player, reason) {
    if (!player || !player.valid) {
        console.log(`Looks like this player is already invalid. Can't save anything.`);
        return;
    }

    console.log(`${player.name} has disconnected.`);
}
</code></pre>
<h2 id="playervehicle">player.vehicle</h2>
<p>用于<strong>获取</strong>玩家所在的当前车辆。如果玩家<strong>不在</strong>车辆中，则返回<strong>null</strong>。</p>
<pre><code class="lang-js">const { vehicle } = player
if (vehicle) {
    console.log(`Player is in a vehicle. Let's change its color to red!`);
    vehicle.customPrimaryColor = new alt.RGBA(255, 0, 0);
}

if (!player.vehicle) {
    console.log(`Player is not in a vehicle.`);
}
</code></pre>
</article>
                    </div>

                </div>

            </main>

        </div>

        
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/arrive/2.4.1/arrive.min.js" integrity="sha512-wkU3qYWjenbM+t2cmvw2ADRRh4opbOYBjkhrPGHV7M6dcE/TR0oKpoDkWXfUs3HrulI2JFuTQyqPLRih1V54EQ==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twbs-pagination/1.4.2/jquery.twbsPagination.min.js" integrity="sha512-frFP3ZxLshB4CErXkPVEXnd5ingvYYtYhE5qllGdZmcOlRKNEPbufyupfdSTNmoF5ICaQNO6SenXzOZvoGkiIA==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha512-mhbv5DqBMgrWL+32MmsDOt/OAvqr/cHimk6B8y/bx/xS88MVkYGPiVv2ixKVrkywF2qHplNRUvFsAHUdxZ3Krg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.2/jquery.modal.min.js" integrity="sha512-ztxZscxb55lKL+xmWGZEbBHekIzy+1qYKHGZTWZYH1GUwxy0hiA18lW6ORIMj4DHRgvmP/qGcvqwEyFFV7OYVQ==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.3.0/anchor.min.js" integrity="sha512-G2OGlm41XXw+fcgDcRPjVYEn7qCY6qiKWNqDGT37SnKh0qtRXTuKZ5/UQR0kDN0PZRNWcGExd3lAeqEH0I36bQ==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/js-url/1.8.8/url.min.js" integrity="sha512-r7Z8tYN1iMr6CTQ7pNJa2q+3owm4Tc6dLkVzGV68AFGiI0muMh5eLVQlas5kb9qwPY168HsTBctUwn3k0FVqyw==" crossorigin="anonymous"></script>
<script type="text/javascript" src="../../../styles/docfx.js"></script>
<script type="text/javascript" src="../../../styles/discord.js"></script>
<script type="text/javascript" src="../../../styles/main.js"></script>

    </body>

</html>
